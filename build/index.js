!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.plugins},function(e,t){e.exports=window.wp.editPost},function(e,t){e.exports=window.wp.compose},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(3),c=n(4),i=n(1),l=n.n(i);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=wp.data,p=d.withSelect,f=d.select,m=d.withDispatch,s=(d.useSelect,wp.components.TextControl),b=p((function(e,t){var n=t.field,r=n.label,o=n.meta_key,c=t.row_index,i=t.property_key,l=e("core/editor").getEditedPostAttribute("meta")[o],a=o+c+i;return void 0===c?{value:l,key:a,label:"Set ".concat(r)}:{value:l[c][i],key:a,label:"Set ".concat(i.replace("_"," "))}}))(s),v=m((function(e,t){var n=t.field.meta_key,r=t.row_index,o=t.property_key;return{onChange:function(t){var c,i=t;void 0!==r&&(i=(null===(c=f("core/editor").getEditedPostAttribute("meta"))||void 0===c?void 0:c[n]).map((function(e,n){return n===r?u(u({},e),{},l()({},o,t)):e}))),e("core/editor").editPost({meta:l()({},n,i)})}}}))(b),y=wp.data,O=y.withSelect,j=y.withDispatch,g=y.select,w=wp.components.SelectControl,E=function(e){var t=e.field,n=t.meta_key,o=t.options,c=t.label,i=function(e){e.value;var t=e.handleSelectChange;return Object(r.createElement)(w,{label:"Set ".concat(c),value:g("core/editor").getEditedPostAttribute("meta")[n],onChange:function(e){return t(e)},options:o})};return i=O((function(e){return l()({},n,e("core/editor").getEditedPostAttribute("meta")[n])}))(i),i=j((function(e){return{handleSelectChange:function(t){e("core/editor").editPost({meta:l()({},n,t)})}}}))(i),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(i,null))},h=n(5),_=wp.data,x=_.withSelect,P=_.withDispatch,k=_.select,S=wp.components.ColorPicker,C=function(e){var t=e.field,n=t.meta_key,o=t.label,c=Object(h.withState)({showPicker:!1})((function(e){var t=e.showPicker,c=e.setState,i=e.handleValueChange,l=k("core/editor").getEditedPostAttribute("meta")[n];return Object(r.createElement)("div",{style:{margin:"20px"}},Object(r.createElement)("div",{onClick:function(){c({showPicker:!t})},style:{display:"flex"}},Object(r.createElement)("button",null,"Pick Color for ",o),Object(r.createElement)("div",{style:{height:"22px",width:"200px",backgroundColor:l}})),t&&Object(r.createElement)(S,{color:l,onChangeComplete:function(e){i(e)}}))}));return c=x((function(e){return l()({},n,e("core/editor").getEditedPostAttribute("meta")[n])}))(c),c=P((function(e){return{handleValueChange:function(t){e("core/editor").editPost({meta:l()({},n,t.hex)})}}}))(c),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(c,null))},A=n(2),I=wp.components.Button,D=wp.data,T=D.dispatch,M=D.useSelect,F=["image"],R=function(){return Object(r.createElement)("div",{style:{width:"100%",height:"100px",backgroundColor:"gray",border:"1px solid black",padding:"5px",color:"#fff",textAlign:"center"}},"SET IMAGE")},V=function(e){var t=e.field,n=t.meta_key,o=t.label,c=M((function(e){var t;return null===(t=e("core/editor").getEditedPostAttribute("meta"))||void 0===t?void 0:t[n]})),i=M((function(e){var t;return null===(t=e("core").getEntityRecord("postType","attachment",c))||void 0===t?void 0:t.source_url}),[c]);return Object(r.createElement)("div",null,Object(r.createElement)("div",null,Object(r.createElement)(A.MediaUploadCheck,null,Object(r.createElement)(A.MediaUpload,{onSelect:function(e){T("core/editor").editPost({meta:l()({},n,e.id)})},allowedTypes:F,value:c,render:function(e){var t=e.open;return Object(r.createElement)("div",{onClick:t},i?Object(r.createElement)("div",{style:{textAlign:"center"}},Object(r.createElement)("img",{style:{maxWidth:"200px"},src:i})):Object(r.createElement)(R,null),Object(r.createElement)(I,{className:"components-button is-secondary"},"Click to Select ",o))}}))))},N={text:v,color:C,select:E,media:V,repeater:H},U=wp.data,B=U.select,G=U.withDispatch,W=U.useSelect,q=function(e){var t,n=e.key,o=e.field,c=e.row_index,i=e.property_key,l=e.repeater_record_label,a=N.text,u=null===(t=B("core/editor").getEditedPostAttribute("meta"))||void 0===t?void 0:t[e.meta_key];return Object(r.createElement)(a,{key:n,field:o,row_index:c,property_key:i,repeater_record_label:l,repeater_values:u})},z=function(e){var t,n,o=e.addItem,c=e.removeItem,i=e.field,l=e.controlsIndex,a=i.meta_key,u=i.label,d=i.show_in_rest,p=null==d||null===(t=d.schema)||void 0===t||null===(n=t.items)||void 0===n?void 0:n.properties,f=Object.entries(p).map((function(e){return e[0]})),m=W((function(e){var t;return null===(t=e("core/editor").getEditedPostAttribute("meta"))||void 0===t?void 0:t[a]}));return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("h3",null,"".concat(u)," (Repeater field):"),Array.isArray(m)&&m.map((function(e,t){return Object(r.createElement)("div",{key:"repeaterValues".concat(t).concat(a)},Object(r.createElement)("div",null,Object(r.createElement)("b",null,"Repeater Record ",t+1,":")),f.map((function(e,n){var o=p[e];return o.meta_key=a,Object(r.createElement)(q,{key:t+e,field:o,row_index:t,property_key:e,repeater_record_label:"".concat(u," ").concat(e),repeater_values:m,control_index:l})})),t>0&&Object(r.createElement)("button",{onClick:function(){c(a,t,m)}},"Remove line ",t+1),Object(r.createElement)("hr",null))})),Object(r.createElement)("button",{style:{marginTop:"10px"},onClick:function(){o(a,m)}},"Add Item"))};z=G((function(e){return{addItem:function(t,n){n.push({});var r=n.splice(0);e("core/editor").editPost({meta:l()({},t,r)})},removeItem:function(t,n,r){confirm("Confirm delete")&&(r=r.filter((function(e,t){return t!==n})),e("core/editor").editPost({meta:l()({},t,r)}))}}}))(z);var H=function(e){var t=e.field,n=e.controlsIndex;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(z,{field:t,controlsIndex:n}))},J={text:v,color:C,select:E,media:V,repeater:H};Object(o.registerPlugin)("plugin-document-setting-panel-demo",{render:function(){var e=window.sgf_data.fields,t=wp.data.select("core/editor").getCurrentPostType();if(!e.map((function(e){return e.post_type})).includes(t))return null;e&&(e=e.filter((function(e){return e.post_type==t})));var n=e.map((function(e){return e.panel})).filter((function(e,t,n){return n.indexOf(e)===t}));return Object(r.createElement)("div",null,n.map((function(t,n){return Object(r.createElement)("div",{key:n},Object(r.createElement)(c.PluginDocumentSettingPanel,{name:t,title:t.replace("-"," ").replace("_"," "),className:"custom-panel"},e.filter((function(e){return e.panel===t})).map((function(e,t){var n=J[e.control];return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(n,{key:t,field:e,controlsIndex:J}),Object(r.createElement)("hr",null))}))))})))}})}]);