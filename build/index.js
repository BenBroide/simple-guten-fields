!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.plugins},function(e,t){e.exports=window.wp.editPost},function(e,t){e.exports=window.wp.compose},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(3),c=n(4),l=n(1),i=n.n(l);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=wp.data,p=d.withSelect,m=d.select,f=d.withDispatch,s=(d.useSelect,wp.components.TextControl),b=wp.data,v=b.withSelect,O=b.withDispatch,g=b.select,j=wp.components.SelectControl,h=n(5),E=wp.data,w=E.withSelect,y=E.withDispatch,P=E.select,x=wp.components.ColorPicker,k=n(2),_=wp.components.Button,C=wp.data,S=C.dispatch,A=C.useSelect,D=["image"],T=function(){return Object(r.createElement)("div",{style:{width:"100%",height:"100px",backgroundColor:"gray",border:"1px solid black",padding:"5px",color:"#fff",textAlign:"center"}},"SET IMAGE")},F=wp.data,I=(F.withSelect,F.withDispatch),M=F.useSelect,R=(wp.components.TextControl,{text:function(e){var t=e.field,n=t.meta_key,o=null==e?void 0:e.property_key,c=null==e?void 0:e.row_index,l=void 0===c,a=function(e){var i=e.handleValueChange,a="",u="";return l?(u=t.label,a=m("core/editor").getEditedPostAttribute("meta")[n]):(u=o.replace("_"," "),a=m("core/editor").getEditedPostAttribute("meta")[n][c][o]),Object(r.createElement)(s,{label:"Set ".concat(u),value:a,onChange:function(e){return i(e)}})};return a=p((function(e){return e("core/editor").getEditedPostAttribute("meta")[n]}))(a),a=f((function(t){return{handleValueChange:function(r){var a=r;l||(a=e.repeater_values.map((function(e,t){return t===c?u(u({},e),{},i()({},o,r)):e}))),t("core/editor").editPost({meta:i()({},n,a)})}}}))(a),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(a,null))},color:function(e){var t=e.field,n=t.meta_key,o=t.label,c=Object(h.withState)({showPicker:!1})((function(e){var t=e.showPicker,c=e.setState,l=e.handleValueChange,i=P("core/editor").getEditedPostAttribute("meta")[n];return Object(r.createElement)("div",{style:{margin:"20px"}},Object(r.createElement)("div",{onClick:function(){c({showPicker:!t})},style:{display:"flex"}},Object(r.createElement)("button",null,"Pick Color for ",o),Object(r.createElement)("div",{style:{height:"22px",width:"200px",backgroundColor:i}})),t&&Object(r.createElement)(x,{color:i,onChangeComplete:function(e){l(e)}}))}));return c=w((function(e){return i()({},n,e("core/editor").getEditedPostAttribute("meta")[n])}))(c),c=y((function(e){return{handleValueChange:function(t){e("core/editor").editPost({meta:i()({},n,t.hex)})}}}))(c),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(c,null))},select:function(e){var t=e.field,n=t.meta_key,o=t.options,c=t.label,l=function(e){e.value;var t=e.handleSelectChange;return Object(r.createElement)(j,{label:"Set ".concat(c),value:g("core/editor").getEditedPostAttribute("meta")[n],onChange:function(e){return t(e)},options:o})};return l=v((function(e){return i()({},n,e("core/editor").getEditedPostAttribute("meta")[n])}))(l),l=O((function(e){return{handleSelectChange:function(t){e("core/editor").editPost({meta:i()({},n,t)})}}}))(l),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(l,null))},media:function(e){var t=e.field,n=t.meta_key,o=t.label,c=A((function(e){var t;return null===(t=e("core/editor").getEditedPostAttribute("meta"))||void 0===t?void 0:t[n]})),l=A((function(e){var t;return null===(t=e("core").getEntityRecord("postType","attachment",c))||void 0===t?void 0:t.source_url}),[c]);return Object(r.createElement)("div",null,Object(r.createElement)("div",null,Object(r.createElement)(k.MediaUploadCheck,null,Object(r.createElement)(k.MediaUpload,{onSelect:function(e){S("core/editor").editPost({meta:i()({},n,e.id)})},allowedTypes:D,value:c,render:function(e){var t=e.open;return Object(r.createElement)("div",{onClick:t},l?Object(r.createElement)("div",{style:{textAlign:"center"}},Object(r.createElement)("img",{style:{maxWidth:"200px"},src:l})):Object(r.createElement)(T,null),Object(r.createElement)(_,{className:"components-button is-secondary"},"Click to Select ",o))}}))))},repeater:function(e){var t,n,o=e.field,c=e.controlsIndex,l=o.meta_key,a=o.label,u=o.show_in_rest;console.log(a);var d=null==u||null===(t=u.schema)||void 0===t||null===(n=t.items)||void 0===n?void 0:n.properties,p=Object.entries(d).map((function(e){return e[0]})),m=function(e){e.value,e.handleFieldChange;var t=e.addItem,n=e.removeItem,o=M((function(e){var t;return null===(t=e("core/editor").getEditedPostAttribute("meta"))||void 0===t?void 0:t[l]}));return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("h3",null,"".concat(a)," (Repeater field):"),o.map((function(e,t){return Object(r.createElement)("div",{key:"repeaterValues".concat(t)},Object(r.createElement)("div",null,Object(r.createElement)("b",null,"Repeater Record ",t+1,":")),p.map((function(e,n){var i=d[e];i.meta_key=l;var u=c.text;return Object(r.createElement)(u,{key:t+e,field:i,row_index:t,property_key:e,repeater_record_label:"".concat(a," ").concat(e),repeater_values:o})})),t>0&&Object(r.createElement)("button",{onClick:function(){n(t,o)}},"Remove line ",t+1),Object(r.createElement)("hr",null))})),Object(r.createElement)("button",{style:{marginTop:"10px"},onClick:function(){t(o)}},"Add Item"))};return m=I((function(e){return{handleFieldChange:function(t,n,r,o){t[n]=t[n],t[n][r]=o;var c=t.splice(0);e("core/editor").editPost({meta:i()({},l,c)})},addItem:function(t){t.push({});var n=t.splice(0);e("core/editor").editPost({meta:i()({},l,n)})},removeItem:function(t,n){confirm("Confirm delete")&&(delete n[t],n=n.filter((function(e){return void 0!==e})),e("core/editor").editPost({meta:i()({},l,n)}))}}}))(m),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(m,null))}});Object(o.registerPlugin)("plugin-document-setting-panel-demo",{render:function(){var e=window.sgf_data.fields,t=wp.data.select("core/editor").getCurrentPostType();if(!e.map((function(e){return e.post_type})).includes(t))return null;e&&(e=e.filter((function(e){return e.post_type==t})));var n=e.map((function(e){return e.panel})).filter((function(e,t,n){return n.indexOf(e)===t}));return Object(r.createElement)("div",null,n.map((function(t,n){return Object(r.createElement)("div",{key:n},Object(r.createElement)(c.PluginDocumentSettingPanel,{name:t,title:t.replace("-"," ").replace("_"," "),className:"custom-panel"},e.filter((function(e){return e.panel===t})).map((function(e,t){var n=R[e.control];return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(n,{key:t,field:e,controlsIndex:R}),Object(r.createElement)("hr",null))}))))})))}})}]);